<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>서버 설정 - {{ brand.name }} - your_program Manager</title>
    <link rel="stylesheet" href="/static/css/tailwind.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="/static/js/theme.js"></script>
</head>
<body class="bg-gray-50 dark:bg-gray-900">
    <div class="min-h-screen flex">
        <!-- 사이드바 -->
        <div class="w-64 bg-white dark:bg-gray-800 shadow-lg flex flex-col">
            <div class="p-6 flex-shrink-0">
                <h1 class="text-2xl font-bold text-gray-900 dark:text-white">🍽️ your_program</h1>
                <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">관리자 대시보드</p>
            </div>
            
            <nav class="mt-6 flex-1">
                <div class="px-6 mb-4">
                    <h3 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">메인 메뉴</h3>
                </div>
                
                <a href="/admin_dashboard" class="flex items-center px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">
                    <i class="fas fa-tachometer-alt mr-3"></i>
                    대시보드
                </a>
                
                <div class="px-6 mt-6 mb-4">
                    <h3 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">브랜드 관리</h3>
                </div>
                
                <div class="space-y-1">
                    <a href="/admin/brand-manager-approval" class="flex items-center px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">
                        <i class="fas fa-user-check mr-3"></i>
                        브랜드 관리자 승인
                    </a>
                    <a href="/admin/brand-management" class="flex items-center px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">
                        <i class="fas fa-building mr-3"></i>
                        브랜드별 관리
                    </a>
                </div>
                
                <div class="px-6 mt-6 mb-4">
                    <h3 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">매장 관리</h3>
                </div>
                
                <a href="/admin/store-management" class="flex items-center px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">
                    <i class="fas fa-store mr-3"></i>
                    매장별 관리
                </a>
                
                <div class="px-6 mt-6 mb-4">
                    <h3 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">직원 관리</h3>
                </div>
                
                <a href="/admin/employee-management" class="flex items-center px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">
                    <i class="fas fa-users mr-3"></i>
                    직원별 관리
                </a>
                
                <div class="px-6 mt-6 mb-4">
                    <h3 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">모듈/플러그인</h3>
                </div>
                
                <a href="/admin/module-marketplace" class="flex items-center px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">
                    <i class="fas fa-puzzle-piece mr-3"></i>
                    모듈 마켓플레이스
                </a>
                <a href="/admin/module-management" class="flex items-center px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">
                    <i class="fas fa-cogs mr-3"></i>
                    모듈 관리
                </a>
                
                <div class="px-6 mt-6 mb-4">
                    <h3 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">시스템 관리</h3>
                </div>
                
                <a href="/admin/feedback-management" class="flex items-center px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">
                    <i class="fas fa-comments mr-3"></i>
                    피드백 관리
                </a>
            </nav>
            
            <div class="p-6 flex-shrink-0 border-t border-gray-200 dark:border-gray-700">
                <div class="flex items-center justify-between">
                    <button id="theme-toggle" class="theme-toggle-btn" title="테마 변경">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </button>
                    <a href="/auth/logout" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <i class="fas fa-sign-out-alt"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- 메인 콘텐츠 -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- 헤더 -->
            <header class="bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 flex-shrink-0">
                <div class="px-6 py-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">{{ brand.name }} - 서버 설정</h2>
                            <p class="text-gray-600 dark:text-gray-400 mt-1">브랜드 전용 서버 및 프론트엔드 설정</p>
                        </div>
                        <div class="flex space-x-3">
                            <a href="/admin/brand-management" class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center">
                                <i class="fas fa-arrow-left mr-2"></i>
                                브랜드 관리로 돌아가기
                            </a>
                        </div>
                    </div>
                </div>
            </header>

            <!-- 메인 콘텐츠 -->
            <main class="flex-1 overflow-auto p-6">
                <div class="container mx-auto px-4 py-8">
                    <!-- 브랜드 정보 카드 -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6">
                        <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">브랜드 정보</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-600 dark:text-gray-400">브랜드명</label>
                                <p class="text-lg font-semibold text-gray-900 dark:text-white">{{ brand.name }}</p>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-600 dark:text-gray-400">브랜드 코드</label>
                                <p class="text-lg font-semibold text-gray-900 dark:text-white">{{ brand.code }}</p>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-600 dark:text-gray-400">업종</label>
                                <p class="text-lg font-semibold text-gray-900 dark:text-white">{{ brand.industry.name if brand.industry else '미설정' }}</p>
                            </div>
                        </div>
                    </div>

                    <!-- 서버 설정 섹션 -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- 백엔드 서버 설정 -->
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                            <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">
                                <i class="fas fa-server mr-2"></i>
                                백엔드 서버 설정
                            </h3>
                            
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2">서버 상태</label>
                                    <div class="flex items-center">
                                        <div class="w-3 h-3 bg-green-500 rounded-full mr-2"></div>
                                        <span class="text-green-600 dark:text-green-400 font-medium">실행 중</span>
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2">서버 URL</label>
                                    <div class="flex items-center space-x-2">
                                        <input type="text" value="http://192.168.45.44:5000" readonly class="flex-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300">
                                        <button onclick="copyToClipboard('http://192.168.45.44:5000')" class="px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm">
                                            <i class="fas fa-copy"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2">API 엔드포인트</label>
                                    <div class="flex items-center space-x-2">
                                        <input type="text" value="http://192.168.45.44:5000/api" readonly class="flex-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300">
                                        <button onclick="copyToClipboard('http://192.168.45.44:5000/api')" class="px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm">
                                            <i class="fas fa-copy"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 프론트엔드 서버 설정 -->
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                            <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">
                                <i class="fas fa-globe mr-2"></i>
                                프론트엔드 서버 설정
                            </h3>
                            
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2">서버 상태</label>
                                    <div class="flex items-center">
                                        <div class="w-3 h-3 bg-red-500 rounded-full mr-2"></div>
                                        <span class="text-red-600 dark:text-red-400 font-medium">중지됨</span>
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2">서버 URL</label>
                                    <div class="flex items-center space-x-2">
                                        <input type="text" value="http://192.168.45.44:3000" readonly class="flex-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300">
                                        <button onclick="copyToClipboard('http://192.168.45.44:3000')" class="px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm">
                                            <i class="fas fa-copy"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="flex space-x-3">
                                    <button onclick="startFrontendServer()" class="flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md font-medium">
                                        <i class="fas fa-play mr-2"></i>
                                        서버 시작
                                    </button>
                                    <button onclick="stopFrontendServer()" class="flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md font-medium">
                                        <i class="fas fa-stop mr-2"></i>
                                        서버 중지
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 추가 설정 섹션 -->
                    <div class="mt-6 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                        <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">
                            <i class="fas fa-cogs mr-2"></i>
                            추가 설정
                        </h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- 데이터베이스 설정 -->
                            <div>
                                <h4 class="font-medium text-gray-800 dark:text-white mb-3">데이터베이스</h4>
                                <div class="space-y-2">
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">연결 상태:</span>
                                        <span class="text-sm text-green-600 dark:text-green-400 font-medium">연결됨</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">데이터베이스:</span>
                                        <span class="text-sm text-gray-700 dark:text-gray-300">your_program.db</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 캐시 설정 -->
                            <div>
                                <h4 class="font-medium text-gray-800 dark:text-white mb-3">캐시</h4>
                                <div class="space-y-2">
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Redis 상태:</span>
                                        <span class="text-sm text-red-600 dark:text-red-400 font-medium">연결 안됨</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">파일 캐시:</span>
                                        <span class="text-sm text-green-600 dark:text-green-400 font-medium">활성</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 로그 설정 -->
                            <div>
                                <h4 class="font-medium text-gray-800 dark:text-white mb-3">로그</h4>
                                <div class="space-y-2">
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">로그 레벨:</span>
                                        <span class="text-sm text-gray-700 dark:text-gray-300">INFO</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">로그 파일:</span>
                                        <span class="text-sm text-gray-700 dark:text-gray-300">logs/app.log</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 빠른 액션 버튼 -->
                    <div class="mt-6 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                        <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">
                            <i class="fas fa-bolt mr-2"></i>
                            빠른 액션
                        </h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                            <button onclick="openBrandDashboard()" class="p-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-center">
                                <i class="fas fa-tachometer-alt text-2xl mb-2"></i>
                                <div class="font-medium">브랜드 대시보드</div>
                                <div class="text-sm opacity-90">브랜드 전용 대시보드 열기</div>
                            </button>
                            
                            <button onclick="openStoreManagement()" class="p-4 bg-green-600 hover:bg-green-700 text-white rounded-lg text-center">
                                <i class="fas fa-store text-2xl mb-2"></i>
                                <div class="font-medium">매장 관리</div>
                                <div class="text-sm opacity-90">매장 추가 및 관리</div>
                            </button>
                            
                            <button onclick="openEmployeeManagement()" class="p-4 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-center">
                                <i class="fas fa-users text-2xl mb-2"></i>
                                <div class="font-medium">직원 관리</div>
                                <div class="text-sm opacity-90">직원 추가 및 관리</div>
                            </button>
                            
                            <button onclick="openSystemSettings()" class="p-4 bg-gray-600 hover:bg-gray-700 text-white rounded-lg text-center">
                                <i class="fas fa-cog text-2xl mb-2"></i>
                                <div class="font-medium">시스템 설정</div>
                                <div class="text-sm opacity-90">시스템 설정 변경</div>
                            </button>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

<script>
// 클립보드에 복사
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(function() {
        alert('클립보드에 복사되었습니다: ' + text);
    }, function(err) {
        console.error('클립보드 복사 실패:', err);
        alert('클립보드 복사에 실패했습니다.');
    });
}

// 프론트엔드 서버 시작
function startFrontendServer() {
    if (confirm('프론트엔드 서버를 시작하시겠습니까?')) {
        // 서버 시작 로직 구현
        alert('프론트엔드 서버 시작 요청이 전송되었습니다.');
        // 실제로는 API 호출로 서버 시작
    }
}

// 프론트엔드 서버 중지
function stopFrontendServer() {
    if (confirm('프론트엔드 서버를 중지하시겠습니까?')) {
        // 서버 중지 로직 구현
        alert('프론트엔드 서버 중지 요청이 전송되었습니다.');
        // 실제로는 API 호출로 서버 중지
    }
}

// 브랜드 대시보드 열기
function openBrandDashboard() {
    window.open(`http://192.168.45.44:3000/brand/{{ brand.code }}`, '_blank');
}

// 매장 관리 열기
function openStoreManagement() {
    window.location.href = `/admin/store-management?brand_id={{ brand.id }}`;
}

// 직원 관리 열기
function openEmployeeManagement() {
    window.location.href = `/admin/employee-management?brand_id={{ brand.id }}`;
}

// 시스템 설정 열기
function openSystemSettings() {
    window.location.href = `/admin/system-settings?brand_id={{ brand.id }}`;
}
</script>
</body>
</html> 