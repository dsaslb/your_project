# 가계부 모듈 (Ledger Module)

정기지출/수입을 관리하는 가계부 모듈입니다. 월별/주별/일별/연별 주기로 설정된 수입과 지출을 추적하고, 월별 요약 및 다가오는 결제 예정일을 알려주는 기능을 제공합니다.

## 🚀 주요 기능

### 📊 핵심 기능
- **정기지출/수입 관리**: 월별, 주별, 일별, 연별 주기 설정
- **카테고리별 분류**: 수입/지출 항목을 카테고리별로 분류
- **월별 요약**: 월별 수입/지출 총액 및 잔액 계산
- **다가오는 결제 알림**: 30일 내 결제 예정일 표시
- **차트 시각화**: 수입/지출/잔액 및 카테고리별 차트

### 📱 PWA 지원
- **모바일 설치**: 홈 화면에 앱으로 설치 가능
- **오프라인 지원**: 서비스 워커를 통한 오프라인 기능
- **반응형 디자인**: 모든 디바이스에서 최적화된 UI

### 🎨 사용자 경험
- **직관적인 UI**: 깔끔하고 모던한 디자인
- **실시간 업데이트**: 데이터 변경 시 즉시 반영
- **토스트 알림**: 작업 완료/실패 시 알림
- **다크 모드**: 시스템 설정에 따른 자동 다크 모드

## 📁 파일 구조

```
ledger_module/
├── main.py                 # 메인 모듈 파일 (API 및 서비스)
├── module.json            # 모듈 메타데이터
├── README.md              # 이 파일
└── frontend/              # 프론트엔드 파일들
    ├── index.html         # 메인 HTML 페이지
    ├── styles.css         # CSS 스타일
    ├── app.js            # Vue.js 애플리케이션
    └── manifest.json     # PWA 매니페스트
```

## 🛠️ 설치 및 설정

### 1. 모듈 등록
가계부 모듈은 이미 메인 앱에 등록되어 있습니다. 서버 시작 시 자동으로 로드됩니다.

### 2. 데이터베이스 테이블 생성
모듈이 처음 실행될 때 필요한 테이블이 자동으로 생성됩니다:
- `ledger_items`: 가계부 항목 테이블
- `ledger_transactions`: 실제 거래 내역 테이블

### 3. 접속 방법
- **웹 브라우저**: `http://localhost:5000/api/ledger/dashboard`
- **모바일**: 브라우저에서 "홈 화면에 추가" 선택

## 📋 API 엔드포인트

### 기본 API
- `GET /api/ledger/health` - 헬스 체크
- `GET /api/ledger/items` - 사용자 항목 조회
- `POST /api/ledger/items` - 새 항목 생성
- `PUT /api/ledger/items/{id}` - 항목 수정
- `DELETE /api/ledger/items/{id}` - 항목 삭제

### 요약 및 분석
- `GET /api/ledger/summary/{year}/{month}` - 월별 요약
- `GET /api/ledger/upcoming` - 다가오는 결제
- `GET /api/ledger/categories` - 카테고리 목록

### 페이지
- `GET /api/ledger/dashboard` - 대시보드 페이지
- `GET /api/ledger/add` - 항목 추가 페이지
- `GET /api/ledger/edit/{id}` - 항목 편집 페이지

## 💡 사용법

### 1. 항목 추가
1. 대시보드에서 "추가" 버튼 클릭
2. 항목 정보 입력:
   - **이름**: 항목명 (예: "월세", "급여")
   - **금액**: 금액 입력
   - **유형**: 수입 또는 지출 선택
   - **카테고리**: 미리 정의된 카테고리 선택
   - **주기**: 일별/주별/월별/연별 선택
   - **시작일**: 결제 시작일 설정
   - **메모**: 추가 설명 (선택사항)

### 2. 월별 요약 확인
- 대시보드 상단에서 월 선택
- 수입/지출/잔액 카드 확인
- 차트를 통한 시각적 분석

### 3. 다가오는 결제 확인
- "예정" 탭에서 30일 내 결제 예정일 확인
- 긴급(3일 이내), 경고(7일 이내), 일반(7일 초과) 색상 구분

### 4. 카테고리별 분석
- "카테고리" 탭에서 수입/지출 카테고리별 분포 확인
- 도넛 차트로 시각적 분석

## 🎨 카테고리

### 수입 카테고리
- 급여
- 용돈
- 투자수익
- 부업수입
- 기타수입

### 지출 카테고리
- 주거비
- 통신비
- 교통비
- 식비
- 의료비
- 교육비
- 문화생활
- 구독서비스
- 기타지출

## 🔧 기술 스택

### 백엔드
- **Python**: Flask 프레임워크
- **SQLAlchemy**: ORM 및 데이터베이스 관리
- **SQLite**: 기본 데이터베이스 (PostgreSQL 등으로 변경 가능)

### 프론트엔드
- **Vue.js 3**: 반응형 UI 프레임워크
- **Chart.js**: 차트 및 그래프 라이브러리
- **Axios**: HTTP 클라이언트
- **Font Awesome**: 아이콘 라이브러리

### PWA 기능
- **Service Worker**: 오프라인 지원
- **Web App Manifest**: 앱 설치 지원
- **Responsive Design**: 모든 디바이스 지원

## 🚀 확장 가능성

### 향후 추가 기능
- **예산 설정**: 월별 예산 설정 및 알림
- **내보내기**: Excel/PDF 형태로 데이터 내보내기
- **알림**: 결제일 전날 푸시 알림
- **통계**: 연간/분기별 통계 분석
- **태그**: 사용자 정의 태그 시스템
- **반복 패턴**: 복잡한 반복 패턴 지원

### 플러그인 연동
- **캘린더 연동**: Google Calendar, Outlook 연동
- **뱅킹 연동**: 은행 API 연동 (선택사항)
- **메신저 연동**: Slack, Discord 알림 연동

## 🐛 문제 해결

### 일반적인 문제
1. **데이터베이스 오류**: 서버 재시작 후 다시 시도
2. **차트가 표시되지 않음**: 브라우저 캐시 삭제 후 새로고침
3. **PWA 설치 안됨**: HTTPS 환경에서만 설치 가능

### 로그 확인
서버 로그에서 `ledger` 관련 메시지를 확인할 수 있습니다:
```
INFO:가계부 모듈 등록 완료
INFO:가계부 항목 생성 완료
```

## 📞 지원

문제가 발생하거나 기능 요청이 있으시면:
1. 이슈 트래커에 등록
2. 개발팀에 문의
3. 문서 업데이트 요청

## 📄 라이선스

이 모듈은 Your Program 프로젝트의 일부입니다. 